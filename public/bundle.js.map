{"version":3,"file":"bundle.js","sources":["../src/profileDragging.js","../src/main.js"],"sourcesContent":["export default function dragElement(elem) {\r\n  var oldMouseX = 0, oldMouseY = 0;\r\n  var oldElemX = 0, oldElemY = 0;\r\n  let draggableElem = elem.querySelectorAll('.drag-container-content')[0];\r\n  let width = draggableElem.offsetWidth;\r\n  let height = draggableElem.offsetHeight;\r\n  if (draggableElem) {\r\n    // If present, the header is where you move the DIV from: // TODO: Add handlers for device touches.\r\n    draggableElem.onmousedown = dragMouseDown;\r\n  }\r\n\r\n  function setRotation(a) {\r\n    let c = Math.cos(a);\r\n    let s = Math.sin(a);\r\n    elem.style.transformOrigin = `bottom center`;\r\n    elem.style.transform = `matrix(${c}, ${s}, ${-s}, ${c}, 0, 0)`;\r\n  }\r\n\r\n  function dragMouseDown(e) {\r\n    e = e || window.event;\r\n    e.preventDefault();\r\n    // Get the mouse cursor position at startup:\r\n    oldMouseX = e.clientX;\r\n    oldMouseY = e.clientY;\r\n    // Convert mouse cursor position to point on element: // TODO: Take into account existing rotation\r\n    oldElemX = e.clientX - parseInt(elem.offsetLeft);\r\n    oldElemY = e.clientY - parseInt(elem.offsetTop);\r\n    // Set handlers for mouse moving and button being released: // TODO: Add handlers for device touches.\r\n    document.onmousemove = elementDrag;\r\n    document.onmouseup = closeDragElement;\r\n  }\r\n\r\n  function elementDrag(e) {\r\n    e = e || window.event;\r\n    e.preventDefault();\r\n    // Calculate the change in cursor position:\r\n    let deltaMouseX = e.clientX - oldMouseX;\r\n    let deltaMouseY = e.clientY - oldMouseY;\r\n    let newElemX = oldElemX + deltaMouseX;\r\n    let newElemY = oldElemY + deltaMouseY;\r\n\r\n    let a1 = Math.atan2(width/2-oldElemX, height-oldElemY);\r\n    let a2 = Math.atan2(newElemX-width/2, height-newElemY);\r\n    let a = a1+a2;\r\n    setRotation(a);\r\n  }\r\n\r\n  function closeDragElement() {\r\n    // TODO: Animate the element bouncing back to its original position.\r\n    // Stop moving the element when mouse button is released: \r\n    document.onmouseup = null;\r\n    document.onmousemove = null;\r\n  }\r\n}","import dragElement from './profileDragging.js';\r\n\r\n// Make the teaser draggable:\r\nconst dragElems = document.getElementsByClassName('drag-container');\r\nfor (const dragElem of dragElems) {\r\n  dragElement(dragElem);\r\n}"],"names":[],"mappings":";;;EAAe,SAAS,WAAW,CAAC,IAAI,EAAE;EAC1C,EAAE,IAAI,SAAS,GAAG,CAAC,EAAE,SAAS,GAAG,CAAC,CAAC;EACnC,EAAE,IAAI,QAAQ,GAAG,CAAC,EAAE,QAAQ,GAAG,CAAC,CAAC;EACjC,EAAE,IAAI,aAAa,GAAG,IAAI,CAAC,gBAAgB,CAAC,yBAAyB,CAAC,CAAC,CAAC,CAAC,CAAC;EAC1E,EAAE,IAAI,KAAK,GAAG,aAAa,CAAC,WAAW,CAAC;EACxC,EAAE,IAAI,MAAM,GAAG,aAAa,CAAC,YAAY,CAAC;EAC1C,EAAE,IAAI,aAAa,EAAE;EACrB;EACA,IAAI,aAAa,CAAC,WAAW,GAAG,aAAa,CAAC;EAC9C,GAAG;AACH;EACA,EAAE,SAAS,WAAW,CAAC,CAAC,EAAE;EAC1B,IAAI,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EACxB,IAAI,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EACxB,IAAI,IAAI,CAAC,KAAK,CAAC,eAAe,GAAG,CAAC,aAAa,CAAC,CAAC;EACjD,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC;EACnE,GAAG;AACH;EACA,EAAE,SAAS,aAAa,CAAC,CAAC,EAAE;EAC5B,IAAI,CAAC,GAAG,CAAC,IAAI,MAAM,CAAC,KAAK,CAAC;EAC1B,IAAI,CAAC,CAAC,cAAc,EAAE,CAAC;EACvB;EACA,IAAI,SAAS,GAAG,CAAC,CAAC,OAAO,CAAC;EAC1B,IAAI,SAAS,GAAG,CAAC,CAAC,OAAO,CAAC;EAC1B;EACA,IAAI,QAAQ,GAAG,CAAC,CAAC,OAAO,GAAG,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;EACrD,IAAI,QAAQ,GAAG,CAAC,CAAC,OAAO,GAAG,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;EACpD;EACA,IAAI,QAAQ,CAAC,WAAW,GAAG,WAAW,CAAC;EACvC,IAAI,QAAQ,CAAC,SAAS,GAAG,gBAAgB,CAAC;EAC1C,GAAG;AACH;EACA,EAAE,SAAS,WAAW,CAAC,CAAC,EAAE;EAC1B,IAAI,CAAC,GAAG,CAAC,IAAI,MAAM,CAAC,KAAK,CAAC;EAC1B,IAAI,CAAC,CAAC,cAAc,EAAE,CAAC;EACvB;EACA,IAAI,IAAI,WAAW,GAAG,CAAC,CAAC,OAAO,GAAG,SAAS,CAAC;EAC5C,IAAI,IAAI,WAAW,GAAG,CAAC,CAAC,OAAO,GAAG,SAAS,CAAC;EAC5C,IAAI,IAAI,QAAQ,GAAG,QAAQ,GAAG,WAAW,CAAC;EAC1C,IAAI,IAAI,QAAQ,GAAG,QAAQ,GAAG,WAAW,CAAC;AAC1C;EACA,IAAI,IAAI,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,QAAQ,EAAE,MAAM,CAAC,QAAQ,CAAC,CAAC;EAC3D,IAAI,IAAI,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,MAAM,CAAC,QAAQ,CAAC,CAAC;EAC3D,IAAI,IAAI,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC;EAClB,IAAI,WAAW,CAAC,CAAC,CAAC,CAAC;EACnB,GAAG;AACH;EACA,EAAE,SAAS,gBAAgB,GAAG;EAC9B;EACA;EACA,IAAI,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC;EAC9B,IAAI,QAAQ,CAAC,WAAW,GAAG,IAAI,CAAC;EAChC,GAAG;EACH;;ECnDA;EACA,MAAM,SAAS,GAAG,QAAQ,CAAC,sBAAsB,CAAC,gBAAgB,CAAC,CAAC;EACpE,KAAK,MAAM,QAAQ,IAAI,SAAS,EAAE;EAClC,EAAE,WAAW,CAAC,QAAQ,CAAC,CAAC;EACxB;;;;"}
